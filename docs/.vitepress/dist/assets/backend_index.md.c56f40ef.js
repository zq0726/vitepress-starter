import{_ as s,o as n,c as a,O as e}from"./chunks/framework.1fb06b91.js";const m=JSON.parse('{"title":"backend","description":"","frontmatter":{},"headers":[],"relativePath":"backend/index.md","lastUpdated":1682580196000}'),l={name:"backend/index.md"},p=e(`<h1 id="backend" tabindex="-1">backend <a class="header-anchor" href="#backend" aria-label="Permalink to &quot;backend&quot;">​</a></h1><h2 id="node-env" tabindex="-1">NODE_ENV <a class="header-anchor" href="#node-env" aria-label="Permalink to &quot;NODE_ENV&quot;">​</a></h2><blockquote><p>p<wbr>rocess.env.NODE_ENV</p></blockquote><p><strong>释义</strong></p><ul><li><code>p<wbr>rocess.env</code> 是 <code>Node.js</code> 中的一个环境对象。其中保存着系统的环境的变量信息；全局变量 <code>process</code> 表示的是当前的 <code>node</code> 进程；</li><li><code>NODE_ENV</code> 是其中的一个环境变量。这个变量主要用于标识当前的环境（生产环境，开发环境）。默认是没有这个环境变量的，需要自己手动配置。不同系统有不同的环境变量配置方式</li></ul><blockquote><p><code>NODE_ENV</code> 在 <code>webpack</code> 中它的用途是判断 <strong>生产环境或开发环境</strong>。 <code>vue/cli</code> 配置环境变量，在项目根目录创建 .env 文件即可</p></blockquote><details class="details custom-block"><summary>vue/cli</summary><p><strong><em>1、默认模式</em></strong></p><table><thead><tr><th style="text-align:center;">模式</th><th style="text-align:center;">对应 npm 命令</th><th style="text-align:center;">对应文件名称</th></tr></thead><tbody><tr><td style="text-align:center;">development</td><td style="text-align:center;">server</td><td style="text-align:center;">.env.development</td></tr><tr><td style="text-align:center;">production</td><td style="text-align:center;">build</td><td style="text-align:center;">.env.production</td></tr><tr><td style="text-align:center;">test</td><td style="text-align:center;">test</td><td style="text-align:center;">.env.test</td></tr></tbody></table><ul><li>需要注意的是：<code>p<wbr>rocess.env.NODE_ENV</code> 为默认变量，会自动设置为上边对应的模式名称</li><li>其他变量必须以 <code>VUE_APP_</code> 开头，会被 <code>vue-cli-service</code> 的所有命令、插件、依赖可用</li></ul><p><strong><em>2、自定义模式</em></strong></p><blockquote><p><code>NODE_ENV</code> 还是只能为 <code>production</code> 或 <code>development</code></p></blockquote><p>比如我们的测试网址，就需要一个自定义 gray 模式</p><ul><li>修改 <code>package.json</code></li></ul><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">build:gray</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vue-cli-service build --mode gray</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>添加.env.gray 文件</li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#A6ACCD;">NODE_ENV = production </span></span>
<span class="line"><span style="color:#A6ACCD;">VUE_APP_URL = https://**.cc/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></details><p><strong>配置</strong></p><details class="details custom-block"><summary>Win/Linux</summary><ul><li>windows 环境配置如下：</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#node中常用的到的环境变量是NODE_ENV，首先查看是否存在</span></span>
<span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NODE_ENV</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#如果不存在则添加环境变量</span></span>
<span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NODE_ENV=production</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#环境变量追加值 set 变量名=%变量名%;变量内容</span></span>
<span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">path=%path%</span><span style="color:#89DDFF;">;</span><span style="color:#FFCB6B;">C:\\web</span><span style="color:#89DDFF;">;</span><span style="color:#FFCB6B;">C:\\Tools</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#某些时候需要删除环境变量</span></span>
<span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NODE_ENV=</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>Linux 配置(mac 系统环境也属于这个)如下：</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#node中常用的到的环境变量是NODE_ENV，首先查看是否存在</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> $NODE_ENV</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#如果不存在则添加环境变量</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> NODE_ENV</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">production</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#环境变量追加值</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">$path</span><span style="color:#C3E88D;">:/home/download:/usr/local/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#某些时候需要删除环境变量</span></span>
<span class="line"><span style="color:#82AAFF;">unset</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NODE_ENV</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#某些时候需要显示所有的环境变量</span></span>
<span class="line"><span style="color:#FFCB6B;">env</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></details>`,9),t=[p];function o(c,r,i,d,u,b){return n(),a("div",null,t)}const D=s(l,[["render",o]]);export{m as __pageData,D as default};
